<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html><head>
<title>mobile.mobile.userena.contrib.umessages.views</title>
<style>
body {
    background:white;
    margin: 0em 1em 10em 1em;
    color: black;
}

h1 { color: white; background: #4FA4FF; }
h2 { color: white; background: #4FA4FF; }
h3 { color: white; background: #00557F; }
h4 { color: white; background: #00557F; }
    
a { color: #AA5500; }

</style>
</head>
<body><a NAME="top" ID="top"></a>
<h1>mobile.mobile.userena.contrib.umessages.views</h1>

<h3>Global Attributes</h3>
<table>
<tr><td>None</td></tr>
</table>
<h3>Classes</h3>
<table>
<tr><td>None</td></tr>
</table>
<h3>Functions</h3>
<table>
<tr>
<td><a href="#message_compose">message_compose</a></td>
<td>Compose a new message</td>
</tr><tr>
<td><a href="#message_detail">message_detail</a></td>
<td>Returns a conversation between two users</td>
</tr><tr>
<td><a href="#message_list">message_list</a></td>
<td>Returns the message list for this user.</td>
</tr><tr>
<td><a href="#message_remove">message_remove</a></td>
<td>A ``POST`` to remove messages.</td>
</tr>
</table>
<hr /><hr />
<a NAME="message_compose" ID="message_compose"></a>
<h2>message_compose</h2>
<b>message_compose</b>(<i>request, recipients=None, compose_form=ComposeForm, success_url=None, template_name="umessages/message_form.html", recipient_filter=None, extra_context=None</i>)
<p>
    Compose a new message
</p><p>
    :recipients:
        String containing the usernames to whom the message is send to. Can be
        multiple username by seperating them with a ``+`` sign.
</p><p>
    :param compose_form:
        The form that is used for getting neccesary information. Defaults to
        :class:`ComposeForm`.
</p><p>
    :param success_url:
        String containing the named url which to redirect to after successfull
        sending a message. Defaults to ``userena_umessages_list`` if there are
        multiple recipients. If there is only one recipient, will redirect to
        ``userena_umessages_detail`` page, showing the conversation.
</p><p>
    :param template_name:
        String containing the name of the template that is used.
</p><p>
    :param recipient_filter:
        A list of :class:`User` that don"t want to receive any messages.
</p><p>
    :param extra_context:
        Dictionary with extra variables supplied to the template.
</p><p>
    **Context**
</p><p>
    ``form``
        The form that is used.
</p><p>

</p>
<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="message_detail" ID="message_detail"></a>
<h2>message_detail</h2>
<b>message_detail</b>(<i>request, username, page=1, paginate_by=10, template_name="umessages/message_detail.html", extra_context=None, **kwargs</i>)
<p>
    Returns a conversation between two users
</p><p>
    :param username:
        String containing the username of :class:`User` of whom the
        conversation is with.
</p><p>
    :param page:
        Integer of the active page used for pagination. Defaults to the first
        page.
</p><p>
    :param paginate_by:
        Integer defining the amount of displayed messages per page.
        Defaults to 50 messages per per page.
</p><p>
    :param extra_context:
        Dictionary of variables that will be made available to the template.
</p><p>
    :param template_name:
        String of the template that is rendered to display this view.
</p><p>
    If the result is paginated, the context will also contain the following
    variables.
</p><p>
    ``paginator``
        An instance of ``django.core.paginator.Paginator``.
</p><p>
    ``page_obj``
        An instance of ``django.core.paginator.Page``.
</p><p>

</p>
<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="message_list" ID="message_list"></a>
<h2>message_list</h2>
<b>message_list</b>(<i>request, page=1, paginate_by=50, template_name="umessages/message_list.html", extra_context=None, **kwargs</i>)
<p>
    Returns the message list for this user. This is a list contacts
    which at the top has the user that the last conversation was with. This is
    an imitation of the iPhone SMS functionality.
</p><p>
    :param page:
        Integer of the active page used for pagination. Defaults to the first
        page.
</p><p>
    :param paginate_by:
        Integer defining the amount of displayed messages per page.
        Defaults to 50 messages per per page.
</p><p>
    :param template_name:
        String of the template that is rendered to display this view.
</p><p>
    :param extra_context:
        Dictionary of variables that will be made available to the template.
</p><p>
    If the result is paginated, the context will also contain the following
    variables.
</p><p>
    ``paginator``
        An instance of ``django.core.paginator.Paginator``.
</p><p>
    ``page_obj``
        An instance of ``django.core.paginator.Page``.
</p><p>

</p>
<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="message_remove" ID="message_remove"></a>
<h2>message_remove</h2>
<b>message_remove</b>(<i>request, undo=False</i>)
<p>
    A ``POST`` to remove messages.
</p><p>
    :param undo:
        A Boolean that if ``True`` unremoves messages.
</p><p>
    POST can have the following keys:
</p><p>
        ``message_pks``
            List of message id's that should be deleted.
</p><p>
        ``next``
            String containing the URI which to redirect to after the keys are
            removed. Redirect defaults to the inbox view.
</p><p>
    The ``next`` value can also be supplied in the URI with ``?next=<value>``.
</p><p>

</p>
<div align="right"><a href="#top">Up</a></div>
<hr />
</body></html>