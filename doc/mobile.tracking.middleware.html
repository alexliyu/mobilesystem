<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html><head>
<title>mobile.tracking.middleware</title>
<style>
body {
    background:white;
    margin: 0em 1em 10em 1em;
    color: black;
}

h1 { color: white; background: #4FA4FF; }
h2 { color: white; background: #4FA4FF; }
h3 { color: white; background: #00557F; }
h4 { color: white; background: #00557F; }
    
a { color: #AA5500; }

</style>
</head>
<body><a NAME="top" ID="top"></a>
<h1>mobile.tracking.middleware</h1>

<h3>Global Attributes</h3>
<table>
<tr><td>log</td></tr><tr><td>title_re</td></tr>
</table>
<h3>Classes</h3>
<table>
<tr>
<td><a href="#BannedIPMiddleware">BannedIPMiddleware</a></td>
<td>Raises an Http404 error for any page request from a banned IP.</td>
</tr><tr>
<td><a href="#VisitorCleanUpMiddleware">VisitorCleanUpMiddleware</a></td>
<td>Clean up old visitor tracking records in the database</td>
</tr><tr>
<td><a href="#VisitorTrackingMiddleware">VisitorTrackingMiddleware</a></td>
<td>Keeps track of your active users.</td>
</tr>
</table>
<h3>Functions</h3>
<table>
<tr><td>None</td></tr>
</table>
<hr /><hr />
<a NAME="BannedIPMiddleware" ID="BannedIPMiddleware"></a>
<h2>BannedIPMiddleware</h2>
<p>
    Raises an Http404 error for any page request from a banned IP.  IP addresses
    may be added to the list of banned IPs via the Django admin.
</p><p>
    The banned users do not actually receive the 404 error--instead they get
    an "Internal Server Error", effectively eliminating any access to the site.
</p>
<h3>Derived from</h3>
None
<h3>Class Attributes</h3>
<table>
<tr><td>None</td></tr>
</table>
<h3>Methods</h3>
<table>
<tr>
<td><a href="#BannedIPMiddleware.process_request">process_request</a></td>
<td></td>
</tr>
</table>
<a NAME="BannedIPMiddleware.process_request" ID="BannedIPMiddleware.process_request"></a>
<h4>BannedIPMiddleware.process_request</h4>
<b>process_request</b>(<i>request</i>)

<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="VisitorCleanUpMiddleware" ID="VisitorCleanUpMiddleware"></a>
<h2>VisitorCleanUpMiddleware</h2>
<p>
Clean up old visitor tracking records in the database
</p>
<h3>Derived from</h3>
None
<h3>Class Attributes</h3>
<table>
<tr><td>None</td></tr>
</table>
<h3>Methods</h3>
<table>
<tr>
<td><a href="#VisitorCleanUpMiddleware.process_request">process_request</a></td>
<td></td>
</tr>
</table>
<a NAME="VisitorCleanUpMiddleware.process_request" ID="VisitorCleanUpMiddleware.process_request"></a>
<h4>VisitorCleanUpMiddleware.process_request</h4>
<b>process_request</b>(<i>request</i>)

<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="VisitorTrackingMiddleware" ID="VisitorTrackingMiddleware"></a>
<h2>VisitorTrackingMiddleware</h2>
<p>
    Keeps track of your active users.  Anytime a visitor accesses a valid URL,
    their unique record will be updated with the page they're on and the last
    time they requested a page.
</p><p>
    Records are considered to be unique when the session key and IP address
    are unique together.  Sometimes the same user used to have two different
    records, so I added a check to see if the session key had changed for the
    same IP and user agent in the last 5 minutes
</p>
<h3>Derived from</h3>
None
<h3>Class Attributes</h3>
<table>
<tr><td>None</td></tr>
</table>
<h3>Methods</h3>
<table>
<tr>
<td><a href="#VisitorTrackingMiddleware.process_request">process_request</a></td>
<td></td>
</tr>
</table>
<a NAME="VisitorTrackingMiddleware.process_request" ID="VisitorTrackingMiddleware.process_request"></a>
<h4>VisitorTrackingMiddleware.process_request</h4>
<b>process_request</b>(<i>request</i>)

<div align="right"><a href="#top">Up</a></div>
<hr />
</body></html>