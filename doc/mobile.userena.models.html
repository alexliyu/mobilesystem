<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html><head>
<title>mobile.userena.models</title>
<style>
body {
    background:white;
    margin: 0em 1em 10em 1em;
    color: black;
}

h1 { color: white; background: #4FA4FF; }
h2 { color: white; background: #4FA4FF; }
h3 { color: white; background: #00557F; }
h4 { color: white; background: #00557F; }
    
a { color: #AA5500; }

</style>
</head>
<body><a NAME="top" ID="top"></a>
<h1>mobile.userena.models</h1>

<h3>Global Attributes</h3>
<table>
<tr><td>PROFILE_PERMISSIONS</td></tr>
</table>
<h3>Classes</h3>
<table>
<tr>
<td><a href="#Meta">Meta</a></td>
<td></td>
</tr><tr>
<td><a href="#Meta_1">Meta</a></td>
<td>Meta options making the model abstract and defining permissions.</td>
</tr><tr>
<td><a href="#Meta_2">Meta</a></td>
<td></td>
</tr><tr>
<td><a href="#UserenaBaseProfile">UserenaBaseProfile</a></td>
<td>Base model needed for extra profile functionality</td>
</tr><tr>
<td><a href="#UserenaLanguageBaseProfile">UserenaLanguageBaseProfile</a></td>
<td>Extends the :class:`UserenaBaseProfile` with a language choice.</td>
</tr><tr>
<td><a href="#UserenaSignup">UserenaSignup</a></td>
<td>Userena model which stores all the necessary information to have a full functional user implementation on your Django website.</td>
</tr>
</table>
<h3>Functions</h3>
<table>
<tr>
<td><a href="#upload_to_mugshot">upload_to_mugshot</a></td>
<td>Uploads a mugshot for a user to the ``USERENA_MUGSHOT_PATH`` and saving it under unique hash for the image.</td>
</tr>
</table>
<hr /><hr />
<a NAME="Meta" ID="Meta"></a>
<h2>Meta</h2>

<h3>Derived from</h3>
None
<h3>Class Attributes</h3>
<table>
<tr><td>verbose_name</td></tr><tr><td>verbose_name_plural</td></tr>
</table>
<h3>Methods</h3>
<table>
<tr><td>None</td></tr>
</table>

<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="Meta_1" ID="Meta_1"></a>
<h2>Meta</h2>
<p>
        Meta options making the model abstract and defining permissions.
</p><p>
        The model is ``abstract`` because it only supplies basic functionality
        to a more custom defined model that extends it. This way there is not
        another join needed.
</p><p>
        We also define custom permissions because we don't know how the model
        that extends this one is going to be called. So we don't know what
        permissions to check. For ex. if the user defines a profile model that
        is called ``MyProfile``, than the permissions would be
        ``add_myprofile`` etc. We want to be able to always check
        ``add_profile``, ``change_profile`` etc.
</p><p>

</p>
<h3>Derived from</h3>
None
<h3>Class Attributes</h3>
<table>
<tr><td>abstract</td></tr><tr><td>permissions</td></tr>
</table>
<h3>Methods</h3>
<table>
<tr><td>None</td></tr>
</table>

<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="Meta_2" ID="Meta_2"></a>
<h2>Meta</h2>

<h3>Derived from</h3>
None
<h3>Class Attributes</h3>
<table>
<tr><td>abstract</td></tr><tr><td>permissions</td></tr>
</table>
<h3>Methods</h3>
<table>
<tr><td>None</td></tr>
</table>

<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="UserenaBaseProfile" ID="UserenaBaseProfile"></a>
<h2>UserenaBaseProfile</h2>
<p>
 Base model needed for extra profile functionality 
</p>
<h3>Derived from</h3>
models.Model
<h3>Class Attributes</h3>
<table>
<tr><td>MUGSHOT_SETTINGS</td></tr><tr><td>PRIVACY_CHOICES</td></tr><tr><td>blank</td></tr><tr><td>choices</td></tr><tr><td>default</td></tr><tr><td>help_text</td></tr><tr><td>max_length</td></tr><tr><td>mugshot</td></tr><tr><td>objects</td></tr><tr><td>privacy</td></tr><tr><td>related_name</td></tr><tr><td>resize_source</td></tr><tr><td>unique</td></tr><tr><td>upload_to</td></tr><tr><td>user</td></tr><tr><td>verbose_name</td></tr>
</table>
<h3>Methods</h3>
<table>
<tr>
<td><a href="#UserenaBaseProfile.__unicode__">__unicode__</a></td>
<td></td>
</tr><tr>
<td><a href="#UserenaBaseProfile.can_view_profile">can_view_profile</a></td>
<td>Can the :class:`User` view this profile?</td>
</tr><tr>
<td><a href="#UserenaBaseProfile.get_full_name_or_username">get_full_name_or_username</a></td>
<td>Returns the full name of the user, or if none is supplied will return the username.</td>
</tr><tr>
<td><a href="#UserenaBaseProfile.get_mugshot_url">get_mugshot_url</a></td>
<td>Returns the image containing the mugshot for the user.</td>
</tr>
</table>
<a NAME="UserenaBaseProfile.__unicode__" ID="UserenaBaseProfile.__unicode__"></a>
<h4>UserenaBaseProfile.__unicode__</h4>
<b>__unicode__</b>(<i></i>)
<a NAME="UserenaBaseProfile.can_view_profile" ID="UserenaBaseProfile.can_view_profile"></a>
<h4>UserenaBaseProfile.can_view_profile</h4>
<b>can_view_profile</b>(<i>user</i>)
<p>
        Can the :class:`User` view this profile?
</p><p>
        Returns a boolean if a user has the rights to view the profile of this
        user.
</p><p>
        Users are divided into four groups:
</p><p>
            ``Open``
                Everyone can view your profile
</p><p>
            ``Closed``
                Nobody can view your profile.
</p><p>
            ``Registered``
                Users that are registered on the website and signed
                in only.
</p><p>
            ``Admin``
                Special cases like superadmin and the owner of the profile.
</p><p>
        Through the ``privacy`` field a owner of an profile can define what
        they want to show to whom.
</p><p>
        :param user:
            A Django :class:`User` instance.
</p><p>

</p><a NAME="UserenaBaseProfile.get_full_name_or_username" ID="UserenaBaseProfile.get_full_name_or_username"></a>
<h4>UserenaBaseProfile.get_full_name_or_username</h4>
<b>get_full_name_or_username</b>(<i></i>)
<p>
        Returns the full name of the user, or if none is supplied will return
        the username.
</p><p>
        Also looks at ``USERENA_WITHOUT_USERNAMES`` settings to define if it
        should return the username or email address when the full name is not
        supplied.
</p><p>
        :return:
            ``String`` containing the full name of the user. If no name is
            supplied it will return the username or email address depending on
            the ``USERENA_WITHOUT_USERNAMES`` setting.
</p><p>

</p><a NAME="UserenaBaseProfile.get_mugshot_url" ID="UserenaBaseProfile.get_mugshot_url"></a>
<h4>UserenaBaseProfile.get_mugshot_url</h4>
<b>get_mugshot_url</b>(<i></i>)
<p>
        Returns the image containing the mugshot for the user.
</p><p>
        The mugshot can be a uploaded image or a Gravatar.
</p><p>
        Gravatar functionality will only be used when
        ``USERENA_MUGSHOT_GRAVATAR`` is set to ``True``.
</p><p>
        :return:
            ``None`` when Gravatar is not used and no default image is supplied
            by ``USERENA_MUGSHOT_DEFAULT``.
</p><p>

</p>
<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="UserenaLanguageBaseProfile" ID="UserenaLanguageBaseProfile"></a>
<h2>UserenaLanguageBaseProfile</h2>
<p>
    Extends the :class:`UserenaBaseProfile` with a language choice.
</p><p>
    Use this model in combination with ``UserenaLocaleMiddleware`` automatically
    set the language of users when they are signed in.
</p><p>

</p>
<h3>Derived from</h3>
UserenaBaseProfile
<h3>Class Attributes</h3>
<table>
<tr><td>choices</td></tr><tr><td>default</td></tr><tr><td>language</td></tr><tr><td>max_length</td></tr>
</table>
<h3>Methods</h3>
<table>
<tr><td>None</td></tr>
</table>

<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="UserenaSignup" ID="UserenaSignup"></a>
<h2>UserenaSignup</h2>
<p>
    Userena model which stores all the necessary information to have a full
    functional user implementation on your Django website.
</p><p>

</p>
<h3>Derived from</h3>
models.Model
<h3>Class Attributes</h3>
<table>
<tr><td>activation_key</td></tr><tr><td>activation_notification_send</td></tr><tr><td>blank</td></tr><tr><td>default</td></tr><tr><td>email_confirmation_key</td></tr><tr><td>email_confirmation_key_created</td></tr><tr><td>email_unconfirmed</td></tr><tr><td>help_text</td></tr><tr><td>last_active</td></tr><tr><td>max_length</td></tr><tr><td>null</td></tr><tr><td>objects</td></tr><tr><td>related_name</td></tr><tr><td>user</td></tr><tr><td>verbose_name</td></tr>
</table>
<h3>Methods</h3>
<table>
<tr>
<td><a href="#UserenaSignup.__unicode__">__unicode__</a></td>
<td></td>
</tr><tr>
<td><a href="#UserenaSignup.activation_key_expired">activation_key_expired</a></td>
<td>Checks if activation key is expired.</td>
</tr><tr>
<td><a href="#UserenaSignup.change_email">change_email</a></td>
<td>Changes the email address for a user.</td>
</tr><tr>
<td><a href="#UserenaSignup.send_activation_email">send_activation_email</a></td>
<td>Sends a activation email to the user.</td>
</tr><tr>
<td><a href="#UserenaSignup.send_confirmation_email">send_confirmation_email</a></td>
<td>Sends an email to confirm the new email address.</td>
</tr>
</table>
<a NAME="UserenaSignup.__unicode__" ID="UserenaSignup.__unicode__"></a>
<h4>UserenaSignup.__unicode__</h4>
<b>__unicode__</b>(<i></i>)
<a NAME="UserenaSignup.activation_key_expired" ID="UserenaSignup.activation_key_expired"></a>
<h4>UserenaSignup.activation_key_expired</h4>
<b>activation_key_expired</b>(<i></i>)
<p>
        Checks if activation key is expired.
</p><p>
        Returns ``True`` when the ``activation_key`` of the user is expired and
        ``False`` if the key is still valid.
</p><p>
        The key is expired when it's set to the value defined in
        ``USERENA_ACTIVATED`` or ``activation_key_created`` is beyond the
        amount of days defined in ``USERENA_ACTIVATION_DAYS``.
</p><p>

</p><a NAME="UserenaSignup.change_email" ID="UserenaSignup.change_email"></a>
<h4>UserenaSignup.change_email</h4>
<b>change_email</b>(<i>email</i>)
<p>
        Changes the email address for a user.
</p><p>
        A user needs to verify this new email address before it becomes
        active. By storing the new email address in a temporary field --
        ``temporary_email`` -- we are able to set this email address after the
        user has verified it by clicking on the verification URI in the email.
        This email gets send out by ``send_verification_email``.
</p><p>
        :param email:
            The new email address that the user wants to use.
</p><p>

</p><a NAME="UserenaSignup.send_activation_email" ID="UserenaSignup.send_activation_email"></a>
<h4>UserenaSignup.send_activation_email</h4>
<b>send_activation_email</b>(<i></i>)
<p>
        Sends a activation email to the user.
</p><p>
        This email is send when the user wants to activate their newly created
        user.
</p><p>

</p><a NAME="UserenaSignup.send_confirmation_email" ID="UserenaSignup.send_confirmation_email"></a>
<h4>UserenaSignup.send_confirmation_email</h4>
<b>send_confirmation_email</b>(<i></i>)
<p>
        Sends an email to confirm the new email address.
</p><p>
        This method sends out two emails. One to the new email address that
        contains the ``email_confirmation_key`` which is used to verify this
        this email address with :func:`UserenaUser.objects.confirm_email`.
</p><p>
        The other email is to the old email address to let the user know that
        a request is made to change this email address.
</p><p>

</p>
<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="upload_to_mugshot" ID="upload_to_mugshot"></a>
<h2>upload_to_mugshot</h2>
<b>upload_to_mugshot</b>(<i>instance, filename</i>)
<p>
    Uploads a mugshot for a user to the ``USERENA_MUGSHOT_PATH`` and saving it
    under unique hash for the image. This is for privacy reasons so others
    can't just browse through the mugshot directory.
</p><p>

</p>
<div align="right"><a href="#top">Up</a></div>
<hr />
</body></html>