<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html><head>
<title>mobile.mobile.guardian.utils</title>
<style>
body {
    background:white;
    margin: 0em 1em 10em 1em;
    color: black;
}

h1 { color: white; background: #4FA4FF; }
h2 { color: white; background: #4FA4FF; }
h3 { color: white; background: #00557F; }
h4 { color: white; background: #00557F; }
    
a { color: #AA5500; }

</style>
</head>
<body><a NAME="top" ID="top"></a>
<h1>mobile.mobile.guardian.utils</h1>

<h3>Global Attributes</h3>
<table>
<tr><td>logger</td></tr>
</table>
<h3>Classes</h3>
<table>
<tr><td>None</td></tr>
</table>
<h3>Functions</h3>
<table>
<tr>
<td><a href="#clean_orphan_obj_perms">clean_orphan_obj_perms</a></td>
<td>Seeks and removes all object permissions entries pointing at non-existing targets.</td>
</tr><tr>
<td><a href="#get_anonymous_user">get_anonymous_user</a></td>
<td>Returns ``User`` instance (not ``AnonymousUser``) depending on ``ANONYMOUS_USER_ID`` configuration.</td>
</tr><tr>
<td><a href="#get_identity">get_identity</a></td>
<td>Returns (user_obj, None) or (None, group_obj) tuple depending on what is given.</td>
</tr>
</table>
<hr /><hr />
<a NAME="clean_orphan_obj_perms" ID="clean_orphan_obj_perms"></a>
<h2>clean_orphan_obj_perms</h2>
<b>clean_orphan_obj_perms</b>(<i></i>)
<p>
    Seeks and removes all object permissions entries pointing at non-existing
    targets.
</p><p>
    Returns number of removed objects.
</p>
<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="get_anonymous_user" ID="get_anonymous_user"></a>
<h2>get_anonymous_user</h2>
<b>get_anonymous_user</b>(<i></i>)
<p>
    Returns ``User`` instance (not ``AnonymousUser``) depending on
    ``ANONYMOUS_USER_ID`` configuration.
</p>
<div align="right"><a href="#top">Up</a></div>
<hr /><hr />
<a NAME="get_identity" ID="get_identity"></a>
<h2>get_identity</h2>
<b>get_identity</b>(<i>identity</i>)
<p>
    Returns (user_obj, None) or (None, group_obj) tuple depending on what is
    given. Also accepts AnonymousUser instance but would return ``User``
    instead - it is convenient and needed for authorization backend to support
    anonymous users.
</p><p>
    :param identity: either ``User`` or ``Group`` instance
</p><p>
    :raises ``NotUserNorGroup``: if cannot return proper identity instance
</p><p>
    **Examples**::
</p><p>
       >>> user = User.objects.create(username='joe')
       >>> get_identity(user)
       (<User: joe>, None)
</p><p>
       >>> group = Group.objects.create(name='users')
       >>> get_identity(group)
       (None, <Group: users>)
</p><p>
       >>> anon = AnonymousUser()
       >>> get_identity(anon)
       (<User: AnonymousUser>, None)
</p><p>
       >>> get_identity("not instance")
       ...
       NotUserNorGroup: User/AnonymousUser or Group instance is required (got )
</p><p>

</p>
<div align="right"><a href="#top">Up</a></div>
<hr />
</body></html>